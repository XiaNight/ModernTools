<UserControl x:Class="Audio.Entries.AudioDeviceEntry"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:Audio.Entries"
             xmlns:audio="clr-namespace:Audio.Components"
             xmlns:chart="clr-namespace:Base.Components.Chart;assembly=Base"
             xmlns:gpuChart="clr-namespace:Base.Components.Chart.GPUChart;assembly=Base"
             mc:Ignorable="d"
             MinHeight="250" MinWidth="300"
             d:DesignHeight="200" d:DesignWidth="1200" d:Background="White">
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto" />
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="120" />
            <RowDefinition Height="120" />
        </Grid.RowDefinitions>

        <StackPanel Orientation="Horizontal" Grid.Column="0" Grid.Row="0" Grid.ColumnSpan="3">
            <TextBlock Text="Device: " VerticalAlignment="Center" Margin="0,0,5,0"/>
            <ComboBox x:Name="SourceDeviceDropdown" MinWidth="100" MaxWidth="200"/>
            <TextBlock x:Name="SampleRateText" VerticalAlignment="Center" Margin="10,0,5,0" Visibility="Collapsed"/>
            <TextBlock x:Name="TestText" VerticalAlignment="Center" Margin="10,0,5,0" Visibility="Collapsed"/>
        </StackPanel>

        <StackPanel Orientation="Horizontal" Grid.Column="3" Grid.Row="0">
            <TextBlock Text="Compare: " VerticalAlignment="Center" Margin="0,0,5,0"/>
            <ComboBox x:Name="CompareDeviceDropdown" MinWidth="100" MaxWidth="200"/>
            <TextBlock x:Name="DelayText" VerticalAlignment="Center" Margin="10,0,5,0" Visibility="Collapsed"/>
            <TextBlock x:Name="ComparedTestText" VerticalAlignment="Center" Margin="10,0,5,0" Visibility="Collapsed"/>
            <Slider x:Name="OffsetTimer" Minimum="0" Maximum="0.1" MinWidth="100" IsMoveToPointEnabled="True"/>
            <ToggleButton x:Name="ShowComparisonToggle" Content="Comp" Margin="5,0,0,0" VerticalAlignment="Center" IsChecked="True"/>
            <Slider x:Name="MagnitudeOffset" Minimum="-2" Maximum="2" Value="1" MinWidth="100" IsMoveToPointEnabled="True"/>
        </StackPanel>

        <audio:VolumeMeter
            x:Name="LeftVolumeMeter"
            MinDb="-60" MaxDb="0"
            SegmentCount="20" SegmentSpacing="2"
            GreenThresholdDb="-12" YellowThresholdDb="-3"
            ShowScale="True" ShowReadout="False" UsePeakHold="True"
            PeakHoldMilliseconds="250" PeakFalloffDbPerSecond="30"
            AttackMilliseconds="1" ReleaseMilliseconds="1"
            Width="54"
            Grid.Column="0" Grid.Row="1" Grid.RowSpan="2"/>
        <audio:VolumeMeter
            x:Name="RightVolumeMeter"
            MinDb="-60" MaxDb="0"
            SegmentCount="20" SegmentSpacing="2"
            GreenThresholdDb="-12" YellowThresholdDb="-3"
            ShowScale="False" ShowReadout="False" UsePeakHold="True"
            PeakHoldMilliseconds="250" PeakFalloffDbPerSecond="30"
            AttackMilliseconds="1" ReleaseMilliseconds="1"
            Width="30"
            Grid.Column="1" Grid.Row="1" Grid.RowSpan="2"/>

        <!-- Spectra Line -->
        <Border
            Background="Black"
            BorderBrush="{DynamicResource SecondaryBrush}"
            BorderThickness="3" CornerRadius="0"
            Grid.Column="2" Grid.Row="1" Grid.RowSpan="2">
        </Border>
        <chart:FastLineChartControl x:Name="LeftFFTChart"
            HorizontalAlignment="Stretch" VerticalAlignment="Stretch"
            AxisPadding="0" ShowAxis="False"
            ScaleMode="Log10" SpectralMode="True" SampleRate="48000" FftLength="4096"
            LineBrush="{StaticResource Accent2Brush}" LineThickness="2"
            MinHz="100" MaxHz="10000" MinY="-60" MaxY="0"
            Grid.Column="2" Grid.Row="1" Grid.RowSpan="2"/>
        <chart:FastLineChartControl x:Name="RightFFTChart"
            HorizontalAlignment="Stretch" VerticalAlignment="Stretch"
            AxisPadding="0" ShowAxis="False"
            ScaleMode="Log10" SpectralMode="True" SampleRate="48000" FftLength="4096"
            LineBrush="{StaticResource Accent1Brush}" LineThickness="2"
            MinHz="100" MaxHz="10000" MinY="-60" MaxY="0"
            Grid.Column="2" Grid.Row="1" Grid.RowSpan="2"/>

        <chart:FastLineChartControl x:Name="LeftFFTLowerChart"
            HorizontalAlignment="Stretch" VerticalAlignment="Stretch"
            AxisPadding="0" ShowAxis="False"
            ScaleMode="Log10" SpectralMode="True" SampleRate="48000" FftLength="4096"
            LineBrush="{StaticResource Accent4Brush}" LineThickness="2"
            MinHz="100" MaxHz="10000" MinY="-60" MaxY="0"
            Grid.Column="2" Grid.Row="1" Grid.RowSpan="2"/>
        <chart:FastLineChartControl x:Name="LeftFFTUpperChart"
            HorizontalAlignment="Stretch" VerticalAlignment="Stretch"
            AxisPadding="0" ShowAxis="False"
            ScaleMode="Log10" SpectralMode="True" SampleRate="48000" FftLength="4096"
            LineBrush="{StaticResource Accent3Brush}" LineThickness="2"
            MinHz="100" MaxHz="10000" MinY="-60" MaxY="0"
            Grid.Column="2" Grid.Row="1" Grid.RowSpan="2"/>

        <chart:FastLineChartControl x:Name="RightFFTLowerChart"
            HorizontalAlignment="Stretch" VerticalAlignment="Stretch"
            AxisPadding="0" ShowAxis="False"
            ScaleMode="Log10" SpectralMode="True" SampleRate="48000" FftLength="4096"
            LineBrush="{StaticResource Accent4Brush}" LineThickness="2"
            MinHz="100" MaxHz="10000" MinY="-60" MaxY="0"
            Grid.Column="2" Grid.Row="1" Grid.RowSpan="2"/>
        <chart:FastLineChartControl x:Name="RightFFTUpperChart"
            HorizontalAlignment="Stretch" VerticalAlignment="Stretch"
            AxisPadding="0" ShowAxis="False" 
            ScaleMode="Log10" SpectralMode="True" SampleRate="48000" FftLength="4096"
            LineBrush="{StaticResource Accent3Brush}" LineThickness="2"
            MinHz="100" MaxHz="10000" MinY="-60" MaxY="0"
            Grid.Column="2" Grid.Row="1" Grid.RowSpan="2"/>
        

        <!-- Spectrogram-->
        <Border
            Background="Black"
            BorderBrush="{DynamicResource Accent2Brush}"
            BorderThickness="3" CornerRadius="0"
            Grid.Column="4" Grid.Row="1">
            <chart:Spectrogram x:Name="LeftSpectrogram" Grid.Column="2" Grid.Row="1" />
        </Border>
        <TextBlock Grid.Column="3" Grid.Row="1" Margin="6 0" Text="L" Foreground="{DynamicResource Accent2Brush}" FontSize="20" FontWeight="Bold"/>
        <Border
            Background="Black"
            BorderBrush="{DynamicResource Accent1Brush}"
            BorderThickness="3" CornerRadius="0"
            Grid.Column="4" Grid.Row="2">
            <chart:Spectrogram x:Name="RightSpectrogram" Grid.Column="2" Grid.Row="2"/>
        </Border>
        <TextBlock Grid.Column="3" Grid.Row="2" Margin="6 0" Text="R" Foreground="{DynamicResource Accent1Brush}" FontSize="20" FontWeight="Bold"/>
    </Grid>
</UserControl>
